# Replicate AI 크레딧 및 비용 가이드

## 📊 Replicate 크레딧 시스템

### 기본 정보
- **크레딧 기반**: 선불 크레딧을 구매하여 사용
- **초당 과금**: 모델 실행 시간에 따라 비용 부과
- **무료 티어**: 없음 (크레딧 구매 필요)

### 비용 구조 (2024년 기준)

#### GPU별 시간당 비용
- **T4 GPU**: 시간당 $0.4 (초당 $0.000225)
- **A100 40GB**: 시간당 $0.8 (초당 $0.000225)
- **A100 80GB**: 시간당 $1.6
- **A40 GPU**: 시간당 $2.4
- **CPU**: 초당 $0.0001

#### 모델별 예상 비용 (Llama 3 8B 기준)
- **요청당 약 2-5초 소요**
- **비용**: 약 $0.0005 - $0.001 per request (약 0.5원 - 1원)
- **100회 요청**: 약 $0.05 - $0.10 (약 50원 - 100원)

### 크레딧 구매
1. [Replicate 계정](https://replicate.com) 생성
2. 결제 수단 등록 (신용카드)
3. 크레딧 충전 ($10, $25, $50, $100 등)

## 💡 비용 절감 방법

### 1. 규칙 기반 폴백 사용 (현재 구현됨)
- Replicate API 키가 없으면 자동으로 규칙 기반 예측 사용
- **비용**: $0 (무료)
- **정확도**: 높음 (수문학 공식 기반)

### 2. 선택적 AI 사용
- 중요한 분석에만 AI 사용
- 일반적인 경우는 규칙 기반 사용

### 3. 모델 선택
- **Llama 3 8B**: 가장 저렴하고 빠름 (추천)
- **Llama 3 70B**: 더 비싸지만 정확도 높음
- **Llama 2 70B**: 중간 가격

### 4. 배치 처리
- 여러 요청을 한 번에 처리하여 오버헤드 감소

## 🆓 무료 대안

### 1. 규칙 기반 예측 (현재 구현됨)
```typescript
// AI 없이도 정확한 예측 가능
// 강수량, 고도, 기온 등을 기반으로 수문학 공식 적용
```

### 2. 로컬 AI 모델 (향후 추가 가능)
- Ollama 같은 로컬 AI 서버 사용
- 완전 무료이지만 서버 필요

## 📝 권장 사항

### 개발/테스트 단계
- **규칙 기반만 사용** (무료)
- 충분히 정확한 예측 제공

### 프로덕션 단계
- **하이브리드 접근**:
  - 기본: 규칙 기반 (무료)
  - 중요 분석: AI 사용 (유료)
- **사용자 선택권 제공**: UI에서 AI 사용 여부 선택 가능

### 비용 모니터링
- Replicate 대시보드에서 사용량 확인
- 월별 예산 설정 권장

## 🔧 현재 구현 상태

현재 코드는 **하이브리드 방식**으로 구현되어 있습니다:

1. **기본**: 규칙 기반 예측 (무료, 정확도 높음)
2. **선택**: Replicate AI 사용 (유료, 자연어 권장사항)

API 키가 없어도 정상 작동하며, 비용이 발생하지 않습니다.

